import{_ as A,d as M,a as j,b as B,c as R,r as i,e as _,f as e,g as o,w as n,h as f,t as l,i as x,o as u,F as S,j as C}from"./app-DcCmhxe8.js";import{M as L}from"./MarkdownRenderer-D9yUTXYg.js";import{J as N}from"./jszip.min-D8hGb91y.js";const U={name:"VersionPage",components:{ArrowLeft:R,Box:B,Download:j,Document:M,MarkdownRenderer:L},data(){return{packageInfo:{name:"ave-mujica",displayName:"ave-mujica",description:""},versionInfo:{version:"e1",date:"2025-08-11T18:15:47.536Z",files:[{name:"README.md",key:"ave-mujica/e1/README.md",size:28,lastModified:"2025-08-11T16:20:19.967Z",downloadUrl:"https://rustfs.k88936.top/software-release/ave-mujica/e1/README.md"},{name:"ave.mujica.the.die.is.cast.s01e01.1080p.web.h264-kawaii.mkv",key:"ave-mujica/e1/ave.mujica.the.die.is.cast.s01e01.1080p.web.h264-kawaii.mkv",size:1441275790,lastModified:"2025-08-11T18:15:47.536Z",downloadUrl:"https://rustfs.k88936.top/software-release/ave-mujica/e1/ave.mujica.the.die.is.cast.s01e01.1080p.web.h264-kawaii.mkv"}]},readme:`# Ave Mujica\r
A long story\r
`}},computed:{totalSize(){return this.versionInfo.files?.reduce((t,s)=>t+s.size,0)||0}},async created(){},methods:{goBack(){this.$router.push(`/${this.packageInfo.name}`)},async downloadAllAsZip(){if(!this.versionInfo.files||this.versionInfo.files.length===0)return;const t=new N;await Promise.all(this.versionInfo.files.map(async d=>{try{const c=await(await fetch(d.downloadUrl)).blob();t.file(d.name,c)}catch{}}));const s=await t.generateAsync({type:"blob"}),r=document.createElement("a");r.href=URL.createObjectURL(s),r.download=`${this.packageInfo.displayName||"assets"}-${this.versionInfo.version||""}.zip`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)},formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},formatSize(t){if(t===0)return"0 B";const s=1024,r=["B","KB","MB","GB"],d=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,d)).toFixed(2))+" "+r[d]}}},E={class:"version-page"},Z={class:"version-header"},T={class:"header-nav"},V={class:"header-content"},F={class:"version-info"},P={class:"version-details"},J={class:"release-info"},O={class:"version-actions"},G={class:"content-section"},K={class:"assets-list"},q={class:"asset-info"},H={class:"asset-details"},Q={class:"asset-name"},W={class:"asset-meta"},X={class:"asset-actions"},Y=["href"],$={key:0,class:"readme-section"},ee={class:"sidebar"},se={class:"info-list"},oe={class:"info-item"},te={class:"info-item"},ne={class:"info-value"},ae={class:"info-item"},ie={class:"info-value"},le={class:"info-item"},re={class:"info-value"};function ce(t,s,r,d,a,c){const k=i("ArrowLeft"),p=i("el-icon"),v=i("el-button"),g=i("Box"),h=i("el-main"),y=i("el-container"),b=i("Document"),I=i("MarkdownRenderer"),w=i("el-col"),D=i("el-tag"),z=i("el-row");return u(),_("div",E,[e("div",Z,[o(y,null,{default:n(()=>[o(h,{style:{"max-width":"1200px",margin:"0 auto"}},{default:n(()=>[e("div",T,[o(v,{onClick:c.goBack,text:"",type:"primary"},{default:n(()=>[o(p,null,{default:n(()=>[o(k)]),_:1}),f(" "+l(a.packageInfo.displayName),1)]),_:1},8,["onClick"])]),e("div",V,[e("div",F,[o(p,{size:"32",class:"version-icon"},{default:n(()=>[o(g)]),_:1}),e("div",P,[e("h1",null,l(a.packageInfo.displayName)+" "+l(a.versionInfo.version),1),e("p",J,"Released on "+l(c.formatDate(a.versionInfo.date)),1)])]),e("div",O,[o(v,{type:"primary",onClick:c.downloadAllAsZip,icon:t.Download},{default:n(()=>[...s[0]||(s[0]=[f(" Download All as ZIP ",-1)])]),_:1},8,["onClick","icon"])])])]),_:1})]),_:1})]),o(h,{class:"main-content"},{default:n(()=>[o(z,{gutter:20},{default:n(()=>[o(w,{span:16},{default:n(()=>[e("div",G,[s[3]||(s[3]=e("h3",null,"Artifact",-1)),e("div",K,[(u(!0),_(S,null,C(a.versionInfo.files,m=>(u(),_("div",{key:m.name,class:"asset-item"},[e("div",q,[o(p,{size:"16",class:"asset-icon"},{default:n(()=>[o(b)]),_:1}),e("div",H,[e("div",Q,l(m.name),1),e("div",W,l(c.formatSize(m.size)),1)])]),e("div",X,[e("a",{href:m.downloadUrl,target:"_blank",rel:"noopener"},[o(v,{size:"small",icon:t.Download},{default:n(()=>[...s[1]||(s[1]=[f(" Download ",-1)])]),_:1},8,["icon"])],8,Y)])]))),128))]),a.readme?(u(),_("div",$,[s[2]||(s[2]=e("h3",null,"Documentation",-1)),o(I,{content:a.readme,"empty-message":"No documentation available"},null,8,["content"])])):x("",!0)])]),_:1}),o(w,{span:8},{default:n(()=>[e("div",ee,[s[8]||(s[8]=e("h4",null,"Release Information",-1)),e("div",se,[e("div",oe,[s[4]||(s[4]=e("span",{class:"info-label"},"Version",-1)),o(D,{type:"primary"},{default:n(()=>[f(l(a.versionInfo.version),1)]),_:1})]),e("div",te,[s[5]||(s[5]=e("span",{class:"info-label"},"Release Date",-1)),e("span",ne,l(c.formatDate(a.versionInfo.date)),1)]),e("div",ae,[s[6]||(s[6]=e("span",{class:"info-label"},"Total Files",-1)),e("span",ie,l(a.versionInfo.files?.length||0),1)]),e("div",le,[s[7]||(s[7]=e("span",{class:"info-label"},"Total Size",-1)),e("span",re,l(c.formatSize(c.totalSize)),1)])])])]),_:1})]),_:1})]),_:1})])}const fe=A(U,[["render",ce],["__scopeId","data-v-7907d5d8"]]);export{fe as default};
